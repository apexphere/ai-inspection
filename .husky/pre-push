#!/bin/sh

echo "ðŸš€ Running pre-push checks (full lint + typecheck)..."

REPO_ROOT="$(git rev-parse --show-toplevel)"

# Check api
echo "ðŸ“¦ Checking api..."
cd "$REPO_ROOT/api" && npm run typecheck && npm run lint || exit 1

# Check web
echo "ðŸ“¦ Checking web..."
cd "$REPO_ROOT/web" && npm run typecheck && npm run lint || exit 1

# Check server
echo "ðŸ“¦ Checking server..."
cd "$REPO_ROOT/server" && npm run typecheck && npm run lint || exit 1

echo "âœ… Pre-push checks passed!"
